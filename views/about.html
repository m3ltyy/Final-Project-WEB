<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û –Ω–∞—Å - ZeroBook</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <h1>ZeroBook</h1>
            <ul>
                <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/catalog">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li><a href="/about">–û –Ω–∞—Å</a></li>
                <li><a href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li><a href="/profile" id="profile-link">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                <li class="cart-icon">
                    <div class="cart-wrapper">
                        <a href="/profile#cart">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count">0</span>
                        </a>
                        <div class="cart-preview">
                            <div class="cart-preview-items">
                                <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã -->
                            </div>
                            <div class="cart-preview-total">
                                <p>–ò—Ç–æ–≥–æ: <span class="preview-total-price">0</span> ‚Ç∏</p>
                                <a href="/profile#cart" class="view-cart-btn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</a>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="about-hero">
            <div class="about-hero-content">
                <h2>–û –Ω–∞—Å</h2>
                <p>–í–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä –≤ –º–∏—Ä–µ –∫–Ω–∏–≥ —Å 2025 –≥–æ–¥–∞</p>
            </div>
        </section>

        <div class="about-container">
            <section class="about-section">
                <div class="about-card">
                    <div class="about-icon">üìö</div>
                    <h3>–ù–∞—à–∞ –º–∏—Å—Å–∏—è</h3>
                    <p>–î–µ–ª–∞—Ç—å —á—Ç–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –∫–Ω–∏–≥–∏ —Å–ø–æ—Å–æ–±–Ω—ã –∏–∑–º–µ–Ω–∏—Ç—å –∂–∏–∑–Ω—å –∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã.</p>
                </div>

                <div class="about-card">
                    <div class="about-icon">üéØ</div>
                    <h3>–ù–∞—à–∏ —Ü–µ–ª–∏</h3>
                    <p>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —à–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É—é —Å—Ä–µ–¥—É –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∫—É–ª—å—Ç—É—Ä—É —á—Ç–µ–Ω–∏—è –≤ –æ–±—â–µ—Å—Ç–≤–µ.</p>
                </div>

                <div class="about-card">
                    <div class="about-icon">üí´</div>
                    <h3>–ù–∞—à–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</h3>
                    <p>–ö–∞—á–µ—Å—Ç–≤–æ, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏ –∑–∞–±–æ—Ç–∞ –æ –∫–∞–∂–¥–æ–º —á–∏—Ç–∞—Ç–µ–ª–µ - –≤–æ—Ç —á—Ç–æ –¥–≤–∏–∂–µ—Ç –Ω–∞–º–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.</p>
                </div>
            </section>

            <section class="features-section">
                <h3>–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h3>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">üìñ</div>
                        <h4>–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä</h4>
                        <p>–ë–æ–ª–µ–µ 10,000 –∫–Ω–∏–≥ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∂–∞–Ω—Ä–∞—Ö</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üöö</div>
                        <h4>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h4>
                        <p>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º—É –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—É</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üí∞</div>
                        <h4>–õ—É—á—à–∏–µ —Ü–µ–Ω—ã</h4>
                        <p>–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞–∫—Ü–∏–∏ –∏ —Å–∫–∏–¥–∫–∏</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">üéÅ</div>
                        <h4>–ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</h4>
                        <p>–ù–∞–∫–∞–ø–ª–∏–≤–∞–π—Ç–µ –±–∞–ª–ª—ã —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–∏</p>
                    </div>
                </div>
            </section>

            <section class="team-section">
                <h3>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞</h3>
                <p class="team-description">
                    –ú—ã - –∫–æ–º–∞–Ω–¥–∞ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –ª—é–±–æ–≤—å—é –∫ –∫–Ω–∏–≥–∞–º –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ–º –¥–µ–ª–∏—Ç—å—Å—è —ç—Ç–æ–π –ª—é–±–æ–≤—å—é —Å –¥—Ä—É–≥–∏–º–∏. 
                    –ö–∞–∂–¥—ã–π —á–ª–µ–Ω –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã —è–≤–ª—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º —Å –≤—ã–±–æ—Ä–æ–º –∫–Ω–∏–≥–∏.
                </p>
            </section>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 ZeroBook. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>

    <script>
        async function updateCartPreview() {
            const token = localStorage.getItem('token');
            if (!token) return;

            try {
                const response = await fetch('/api/profile/cart', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const cartItems = await response.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
                const cartCount = document.querySelector('.cart-count');
                cartCount.textContent = cartItems.length;

                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é –∫–æ—Ä–∑–∏–Ω—ã
                const cartPreviewItems = document.querySelector('.cart-preview-items');
                if (cartItems.length === 0) {
                    cartPreviewItems.innerHTML = '<p class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                } else {
                    cartPreviewItems.innerHTML = cartItems.map(item => `
                        <div class="preview-item">
                            <img src="${item.book.imageUrl}" alt="${item.book.title}">
                            <div class="preview-item-info">
                                <h4>${item.book.title}</h4>
                                <p>${item.quantity} x ${item.book.price} ‚Ç∏</p>
                            </div>
                        </div>
                    `).join('');
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—É–º–º—É
                const totalPrice = cartItems.reduce((sum, item) => sum + (item.book.price * item.quantity), 0);
                document.querySelector('.preview-total-price').textContent = totalPrice;
            } catch (error) {
                console.error('Error updating cart:', error);
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        updateCartPreview();

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ—Ä–∑–∏–Ω—É –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(updateCartPreview, 30000);
    </script>
</body>
</html> 